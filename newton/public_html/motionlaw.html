<!doctype html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang=""> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8" lang=""> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9" lang=""> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang=""> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="apple-touch-icon" href="apple-touch-icon.png">

        <link rel="stylesheet" href="css/normalize.min.css">
        <link rel="stylesheet" href="css/main.css">
        <link rel="stylesheet" href="css/styles.css">

        <script src="js/vendor/modernizr-2.8.3-respond-1.4.2.min.js"></script>
    </head>
    <body>
        <!--[if lt IE 8]>
            <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->
        <div id= "wrapper">

                <div class="header-container">
                    <header class="wrapper clearfix">
                        <h1 class="title">Simulation of the  Newton's 2nd Law of Motion : F = m a </h1>
                        <nav>
                            <ul>
                                <li><a href="index.html">Home</a></li>
                                <li><a href="motionlaw.html">Simulation</a></li>
                                <li><a href="glossary.html">Glossary</a></li>
                            </ul>
                        </nav>
                    </header>
                </div> <!--endofheader-container-->


                 <div class="main-container">

                   <!-- <div class="main wrapper clearfix"> -->

                        <article> 
                                    <aside>

                                <a href="#" class="flat-button">Quiz</a>
              
                                <a href="#" class="flat-button">Graph</a>
              
                            
                                </aside>
                            
                                <h2>a (ms<sup>2</sup>) = F (N) / m (Kg)</h2>
                   
                              <div> 
                                  <!-- Accelaration -->
                                  <section id="content2">
                                  	<div>
                                    <svg height="20" width="20">
                                    <circle cx="10" cy="10" r="5" stroke="red" stroke-width="3" fill="red" />
                                    </svg>
                                      Engine A : a <input type="text"  size="5" id="textField2" class="colored" disabled> =

                                      F 
                                      <input type="text" name="answer1" size="7" id="forceForAcc1" value="100000">

                                          / m 
                                              <select id="mySelect1" onchange="setMass1()">
                                                <option value="2000">2000</option>
                                                <option value="3000">3000</option>
                                                <option value="4000">4000</option>
                                                <option value="5000">5000</option>
                                                <option value="6000">6000</option>
                                                <option value="7000">7000</option>
                                               
                                              </select> <br>

                                              <svg height="20" width="20">
                                    <circle cx="10" cy="10" r="5" stroke="blue" stroke-width="3" fill="blue" />
                                    </svg>
                                      Engine B : a <input type="text"  size="5" id="textField3" disabled > =

                                      F 
                                       <input type="text" name="answer1" size="7" id="forceForAcc2" value="100000">


                                          / m 
                                              <select id="mySelect2" onchange="setMass2()">
                                                <option value="2000">2000</option>
                                                <option value="3000">3000</option>
                                                <option value="4000">4000</option>
                                                <option value="5000">5000</option>
                                                <option value="6000">6000</option>
                                                <option value="7000">7000</option>
                                                
                                              </select> 

                                      <button onclick="startForAcc()" class="colored" id="startForAcc" >GO!</button>
                                      <!--<input type="button" id="startForAcc" value="GO!" onclick="startForAcc()" />-->

                       <button onclick="myFunction()" class="colored" id="rset" >Reset</button>
                                      </div>
                                  </section>

                              </div>
                             
        						        
        					<div style="text-align: center;">
        					<!-- <strong>Millisecond Timer</strong> -->
        						<form name="d">
        							<input type="text" id="timerText" size="5" name="d2" disabled>
        							<!--<input type="button" value="Start/Stop" onclick="startstoptimer()">
        							<input type="reset" onclick="resettimer()"> -->
        						</form> 
                    </div>

                            <section>
                                <div id="racetrack">

                                <canvas id="myCanvas" width="1280" height="330" style="border:0px solid #d3d3d3">
                                </canvas>
            
                                </div> 
                            </section>

                   
                            </section>
                            
                                <div style="text-align: center;" id="raceInfoContainer" class="clearfix">
                                    <h3>Results</h3>
                                    <div id="raceInfo1" class="raceInfo">Engine A<span></span></div>
                                    <div id="raceInfo2" class="raceInfo">Engine B<span></span></div>
                                </div>



                            
                            <footer>
                            </footer>
                        </article>


                    </div> <!-- #main-container-->
        
                    <div class="footer-container">
                    <footer class="wrapper">
                        <h3> Â© 2016 Summer Research Program.</h3>
                    </footer>
                    </div>
        
                </div> 

                
        
        <script>
      
			
			function myFunction() {
				location.reload();
			}

            function setMass1()
            {
                var mass = document.getElementById("mySelect1").selectedIndex;
                mass = document.getElementsByTagName("option")[mass].value;
                rad[0] = mass;
            }
            function setMass2()
            {
                var mass = document.getElementById("mySelect2").selectedIndex;
                mass = document.getElementsByTagName("option")[mass].value;
              rad[1] = mass;
            }

              var animating = false;

              var x = [50, 50];  //ball position on x axy
              var y = [30, 180]; //ball position on y
              var rad = [20, 20]; //ball size 
              var color = ["red", "blue"];
              var velX = [0, 0];
              var velY = [0, 0 ];
              //var accX = [1, .5, .25];
              //var accY = [0, 0, 0];
              var accX = [1, 1];
              var accY = [0, 0];
              var canvas;
              var ctx;

              setInterval(update, 25);
              //alert( "Hello!");
              canvas = document.getElementById("myCanvas");

              ctx = canvas.getContext("2d");

		      window.addEventListener('resize', resizeCanvas, false);
        	  window.addEventListener('orientationchange', resizeCanvas, false);
            

             function myFunction7() {
             var x = document.getElementById("mySelect").selectedIndex;
             alert(document.getElementsByTagName("option")[x].value);

            } 

              function  startForAcc()
              {
                var force = document.getElementById("forceForAcc1").value; 
                var mass = document.getElementById("mySelect1").selectedIndex;
                mass = document.getElementsByTagName("option")[mass].value;

                var acc = force / mass;

                document.getElementById("textField2").value = acc;

                start();

                accX[0] = acc;


                var force1 = document.getElementById("forceForAcc2").value; 
                var mass1 = document.getElementById("mySelect2").selectedIndex;
                mass1 = document.getElementsByTagName("option")[mass1].value;

                var acc1 = force1 / mass1;

                document.getElementById("textField3").value = acc1;

                accX[1] = acc1;

                rad[0] = mass ;
                rad[1] = mass1 ;


                start();
				  
          				while (animating) {  
          				  if (timer > 0) {
          					return;
          				  }
          				  display();
          				}
            
                }

               

              function  start()
              {


                animating = true;
                x[0] = 50;
                x[1] = 50;
               
                velX[0] = 0;
                velX[1] = 0;
              
            
              }

              function update()
              {

                //console.log("updating");
                
                ctx.clearRect(0, 0, canvas.width, canvas.height)
                for( i=0; i<x.length; i++ )
                {
                  draw( ctx, x[i], y[i], rad[i], color[i]);
                }
                
                if( animating == false ) return;
                
                for( i=0; i<x.length; i++ )
                {
                  x[i] += velX[i];
                 // y[i] += velY[i];
                  velX[i] += (accX[i]/1000 * 25);
                  //velY[i] += accY[i];
                }
              }

              function draw(context, x, y, radius, color )
              {
              		
                     base_image = new Image();
                    
                    //if (color == "red") {
                      //base_image.src = 'img/redCar.png';
                   // } else { 
                     // base_image.src = 'img/greenCar.png';
                    //}
                    if (radius == "3000") {
                      base_image.src = 'img/redCar30.png';
                    }
                     else if (radius == "4000") {
                      base_image.src = 'img/redCar40.png';
                    } 
                    else if (radius == "5000") {
                      base_image.src = 'img/minivan50.png';
                    } 
                    else if (radius == "6000") {
                      base_image.src = 'img/minibus60.png';
                      
                    } 
                    else if (radius == "7000") {
                      base_image.src = 'img/truck70.png';
                    }else { 
                      base_image.src = 'img/lambo20.png';
                    }
                    context.drawImage(base_image, x, y);

                  
                    //context.beginPath();
                    //context.arc(x, y, radius, 0, 2*Math.PI, true);
                    //context.arc(100, 225, 50, 0, 2 * Math.PI);
                    //context.lineWidth = 15;

                    // line color
                    //context.strokeStyle = color;
                    //context.stroke();
              }

              
			
			
			/* START OF TIMER */ 
			var millisec = 0;
			var seconds = 0;
			var timer;

			function display(){

        if (millisec>=9){
         millisec=0
         seconds+=1
        }
        else {
          millisec+=1
        }
        console.log(canvas.width)
        //console.log(canvasElement.width)

        if (x[0] < canvas.width || x[1] < canvas.width) {
            document.d.d2.value = seconds + "." + millisec;
            timer = setTimeout("display()",100);
          }

        }

			/*function starttimer() {

			  if (timer > 0) {
				return;
			  }
			  display();	
			}*/
			function stoptimer() {
			  clearTimeout(timer);
			  timer = 0;
			}


			function resettimer() {
				stoptimer();
				millisec = 0;
				seconds = 0;
			}
		/* END OF TIMER */
			
      	var canvasWidth;
 
      function init() {
        canvas = document.getElementById('myCanvas');
        if (canvas.getContext) {
          ctx = canvas.getContext("2d");
 
          window.addEventListener('resize', resizeCanvas, false);
          window.addEventListener('orientationchange', resizeCanvas, false);
          resizeCanvas();
        }
      }
 
      function resizeCanvas() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
      }			
        </script>


        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="js/vendor/jquery-1.11.2.min.js"><\/script>')</script>

        <script src="js/main.js"></script>

        <!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->
        <script>
            (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
            function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
            e=o.createElement(i);r=o.getElementsByTagName(i)[0];
            e.src='//www.google-analytics.com/analytics.js';
            r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
            ga('create','UA-XXXXX-X','auto');ga('send','pageview');
        </script>

    </body>
</html>
